# 自定义编码

落格输入法为你提供了可强大可傻瓜的自定义候选词条的功能。对于大多数新用户来说，可能它的另一个名字更让你熟悉——“用户词”。

但由于这个名字和落格输入法中的另一个概念略有混淆，所以在落格输入法中，我们称它为“自定义编码”。

这个功能在设置界面的“系统”页面→“自定义编码”模块里。通过“自定义编码”，你可以实现如下功能：

## 自定义短语

不同于“快捷短语”，自定义短语允许你设定自己偏好的候选字，比如输入“`mail`”就出现你的“`xxx@gmail.com`”邮箱候选，可以方便你一键上屏，这是另外一种快捷的输入短语的方式。

你可以点击右上角的加号“`+`”来添加词条，然后编辑即可。

## 调整词频

你可能对候选栏里的某些词汇的排序不太满意，如你所见，落格输入法在使用主码表的时候是不能加载用户词典的，那么你可以使用“自定义编码”功能来实现调整词频的行为——自定义编码永远出现在候选栏的最前边——利用这个特性，如果你自定义短语里写了“汽车”这个词条，那么后边就不会再出现“汽车”了。从而实现了移动特定候选字（词）到候选条最前边的目的。

比如你想要在输入`ha`的时候，让`蛤`而不是`哈`成为首选，那么就添加一个自定义编码，设定编码为`ha`，内容为`蛤`，位置设置为`0`（意思是永远首选），这样无论在任何时候，只要你输入了`ha`，`蛤`就会出现在首选了。

> 额外地，如果你需要，可以设置你的词条在候选栏中出现的位置，比如默认的 0 就是首选，如果是 1 那就是次选，以此类推；不过这并不一定严格规定，比如你设置了 8，但只有四个候选，那么你的这个编码就会在第五了。

## 导入编码

对于专业用户来讲，你可能需要一次导入多条数据，又或者你想备份配置。你要做的，首先是按照规定格式编辑一份码表文件，文件的格式如下：

* 编码：UTF-8 UTF-16 GB2312 GBK GB18030
* 格式：txt
* 行结构：词条 编码 排序（权重是可选的整数，可以不写默认是 0）

注意：

* 每一行为一个词条，不能有空行，用“tab”作为分隔；
* 编码只能由 26 个英文字母组成，空格也不能有，否则能导入但不能生效；词条中可以是任意字符，也可以有空格之类的；
* 排序为非负整数，比如 0 就是第一位，1 就是次选，如果在重码的情况下，你又使用了同样的权重，那么落格输入法会尽可能将你的编码按照从下到上的顺序排序（也就是新加入的在前，但不是保证）。

将编辑好的文本文件改名为“`你的名字.txt`”，然后通过在自定义编码功能区找到“导入编码”按钮，通过 iCloud Drive 导入。

> 值得注意的是：导入码表的话会清空现有的自定义码表内容，而非合并。

## 导入联系人

通过自定义编码，你也可以将手机中的联系人导入到落格输入法的键盘中，这么做会给你的隐私带来风险，我们无法为你的联系人隐私进行负责。

在自定义编码界面，功能区点击“导入联系人”即可从你的联系人导入，注意要给落格输入法授权以允许它访问你的联系人。这样它就会获取你的联系人，每个联系人会生成两个词条，一条是对应联系人名字的双拼；另一条是这个联系人的电话号码。

> 值得一提的是，由于中文拼音来自于苹果内置加拼音算法，所以很可能对多音字处理不会那么准确，比如“银行”，会被识别为“yin xing”。

导入联系人后，如果你再次点击导入，那么现有的联系人数据会被清理然后重新导入（即刷新），如果导入联系人后再导出自定义编码，联系人的内容不会包含在导出的自定义编码码表中。

